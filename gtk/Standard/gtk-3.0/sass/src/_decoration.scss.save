decoration {
	border-radius: $omega1 $omega1 0 0;
	border-width: 0px;
	margin: 10px;
	box-shadow: $shadowa;
	&:backdrop {
		box-shadow: $shadowb;
		transition: $backdrop_transition;
	}
	.maximized &,
	.fullscreen &,
	.tiled &,
	.tiled-top &,
	.tiled-right &,
	.tiled-bottom &,
	.tiled-left & {
		border-radius: 0;
	}
	.popup & {
		box-shadow: none;
	}
	.ssd & {
		box-shadow: none;
	}
	.csd.popup & {
		border-radius: $small_radius;
    box-shadow: $popover_shadow,
                0 0 0 1px transparentize($borders_color, 0.2);
  }

  tooltip.csd & {
    border-radius: 5px;
    box-shadow: none;
    border: none;
  }

  messagedialog.csd & {
    box-shadow: $window_decoration_shadow transparentize(black, 0.5);
  }

  .solid-csd & {
    margin: 0;
    padding: 4px;
    background-color: $borders_color;
    border: solid 1px $borders_color;
    border-radius: 0;
    box-shadow: inset 0 0 0 3px $headerbar_bg_color;

    &:backdrop { box-shadow: inset 0 0 0 3px $backdrop_headerbar_bg_color; }
  }
}

// Window Close button
button.titlebutton {
  $c: $headerbar_bg_color;
  $tc: $headerbar_fg_color;

  &, &:hover, &:active {
    headerbar &, .titlebar &, & {
      // spec bump otherwise :backdrop  will still have a bg
      &, &:backdrop {
        @extend %undecorated_button;
      }
    }
  }

  border-radius: $small_radius;
  min-height: 24px;
  min-width: 24px;
  padding: 2px;

  &:not(.close):not(.appmenu){
    &:hover {
      @include draw_circle($c);
    }
    &:active {
      @include draw_circle($c);
    }
  }

  &.close {
    @include draw_circle($selected_bg_color, $close:true);
    &:hover {
      @include draw_circle($selected_bg_color, $close:true);
    }
    &:active {
      @include draw_circle($selected_bg_color, $close:true);
    }
  }
}

// catch all extend :)

%selected_items {
  $c: $selected_bg_color;
  $tc: $selected_fg_color;
  background-color: $c;

  &:backdrop { background-color: _backdrop_color($c); }

  @at-root %nobg_selected_items, & {
    color: $tc;

    &:disabled { color: mix($tc, $c, 50%); }

    &:backdrop {
      &, label { color: $backdrop_selected_fg_color; }

      &:disabled { color: mix($backdrop_selected_fg_color, $c, 30%); }
    }
  }
}

%selected_text {
  $c: $text_selection;
  $tc: $text_color;
  background-color: $c;
  color: $tc;

  &:disabled { color: mix($tc, $c, 50%); }

  &:backdrop {
    background-color: _backdrop_color($c);
    color: $backdrop_text_color;

    &:disabled { color: mix($backdrop_selected_fg_color, $c, 30%); }
  }
}

.monospace { font-family: monospace; }




/**************
 * Scrollbars *
 **************/
scrollbar {
	$_slider_min_length: 40px;
	@at-root * {
		-GtkScrollbar-has-backward-stepper: false;
		-GtkScrollbar-has-forward-stepper: false;
	}
	background-color: transparent;
	transition: 300ms $ease-out-quad;

	// scrollbar border #fugly
//	&.top { border-bottom: 1px solid $borders_color; }
//	&.bottom { border-top: 1px solid $borders_color; }
//	&.left { border-right: 1px solid $borders_color; }
//	&.right { border-left: 1px solid $borders_color; }
	&:backdrop {
		background-color: transparent;
	}
	slider {
		min-width: 6px;
		min-height: 6px;
		margin: -1px;
		border: 4px solid transparent;
		border-radius: 8px;
		background-clip: padding-box;
		background-color: if($variant==light, $dark1, $white);
		transition: 150ms linear;
		transition-property: min-height, min-width, border-color, background-color;
		&:hover {
			background-color: $accent2;
		}
		&:hover:active {
			background-color: $accent3;
		}
		&:backdrop {
			background-color: if($variant==light, lighten($dark1, $beta1), darken($white, $beta1));
		}
		&:disabled {
			background-color: transparent;
		}
	}
	&.fine-tune {
		slider {
			min-width: 4px;
			min-height: 4px;
			transition: none;
		}
		&.horizontal slider {
			margin: 0 -1px;
		}
		&.vertical slider {
			margin: -1px 0;
		}
	}
	&.overlay-indicator {
		&:not(.dragging):not(.hovering) {
			border-style: none;
			background-color: transparent;

      slider {
        margin: 2px;
        min-width: 3px;
        min-height: 3px;
        border: 1px solid if($variant == 'light', transparentize(white, 0.8), transparentize(black, 0.8));
      }

      button {
        min-width: 5px;
        min-height: 5px;
        background-color: $scrollbar_slider_color;
        background-clip: padding-box;
        border-radius: 100%;
        border: 1px solid if($variant == 'light', transparentize(white, 0.8), transparentize(black, 0.8));
        -gtk-icon-source: none;
      }

      &.horizontal {
        slider {
          min-width: $_slider_min_length;
        }

        button {
          margin: 1px 2px;
          min-width: 5px;
        }
      }

      &.vertical {
        slider {
          min-height: $_slider_min_length;
        }

        button {
          margin: 2px 1px;
          min-height: 5px;
        }
      }
    }

    &.dragging,
    &.hovering {
      border-style: none;
      background-color: transparent;
      border-radius: $omega1;

      &:backdrop { background-color: transparentize($backdrop_scrollbar_bg_color, 0.2); }
    }
  }

  &.horizontal slider { min-width: $_slider_min_length; }

  &.vertical slider { min-height: $_slider_min_length; }

  // button styling
  button {
    padding: 0;
    min-width: 12px;
    min-height: 12px;
    border-style: none;
    border-radius: 0;
    transition-property: min-height, min-width, color;

    @include clickable(undecorated);

    color: $scrollbar_slider_color;

    &:hover {
      @include clickable(undecorated);

      color: $scrollbar_slider_hover_color;
    }
    &:active, &:checked {
      @include clickable(undecorated);

      color: $scrollbar_slider_active_color;
    }
    &:disabled {
      @include clickable(undecorated);

      color: transparentize($scrollbar_slider_color, 0.8);
    }
    &:backdrop {
      @include clickable(undecorated);

      color: $backdrop_scrollbar_slider_color;

      &:disabled {
        @include clickable(undecorated);

        color: transparentize($backdrop_scrollbar_slider_color, 0.8);
      }
    }
  }

  // button icons
  &.vertical {
    button {
      &.down { -gtk-icon-source: -gtk-icontheme('pan-down-symbolic'); }

      &.up { -gtk-icon-source: -gtk-icontheme('pan-up-symbolic'); }
    }
  }

  &.horizontal {
    button {
      &.down { -gtk-icon-source: -gtk-icontheme('pan-end-symbolic'); }

      &.up { -gtk-icon-source: -gtk-icontheme('pan-start-symbolic'); }
    }
  }
}

treeview ~ scrollbar.vertical {
  border-top: 1px solid $borders_color;
  margin-top: -1px;
}

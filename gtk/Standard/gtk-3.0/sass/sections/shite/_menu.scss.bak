
/*********
 * Menus *
 *********/
menubar, .menubar {
	-GtkWidget-window-dragging: true;
	@include fill(normal, $alpha3, $header);
	&:backdrop {
		@include fill(backdrop, $alpha3, $header);
	}
	label:backdrop {
		color: inherit;
	}
	padding: 0px;
	> menuitem {
		transition: 100ms ease;
		transition-property: box-shadow, color;
		min-height: 16px;
		padding: 4px 8px;
		menu {
			border-radius: 0 0 $omega1 $omega1;
			menu {
				border-radius: $omega1;
			}
		}
		&:hover { //Seems like it :hover even with keyboard focus
			@include clickable(hover, $alpha3, $accent2);
		}
		&:disabled {
			@include clickable(disabled);
		}
	}
}
.background.popup {
	background-color: transparent;
}

menu, .menu, .context-menu {
	margin: 4px; // see https://bugzilla.gnome.org/show_bug.cgi?id=591258
	padding: 8px 0;
	@include clickable(normal);
	border-radius: $omega1;
	.csd & {
		border: none;
	}
	&:backdrop {
		@include clickable(backdrop);
	}
	menuitem {
		transition: $click;
		min-height: 16px;
		min-width: 36px;
		padding: 5px 6px;
		border-radius: 0;
		&:hover {
			@include clickable(hover, $alpha3, $accent2);
		}
		&:disabled {
			@include clickable(disabled);
		}
		&:backdrop {
			@include clickable(backdrop);
			&:hover {
				@include clickable(backdrop-hover, $alpha3, $accent2);
			}
		}
		arrow {
			min-height: 16px;
			min-width: 16px;
			&:dir(ltr) {
				-gtk-icon-source: -gtk-icontheme('pan-end-symbolic');
			}
			&:dir(rtl) {
				-gtk-icon-source: -gtk-icontheme('pan-end-symbolic-rtl');
			}
		}
		label {
			&:dir(rtl), &:dir(ltr) {
				color: inherit;
			}
		}
	}
	// overflow arrows
	> arrow {
		@include clickable(undecorated);
		min-height: 16px;
		min-width: 16px;
		padding: 4px;
		border-radius: 0;
		&.top {
			border-top-right-radius: $omega1;
			border-top-left-radius: $omega1;
			-gtk-icon-source: -gtk-icontheme('pan-up-symbolic');
		}
		&.bottom {
			margin-bottom: -8px;
			border-bottom-right-radius: $omega1;
			border-bottom-left-radius: $omega1;
			-gtk-icon-source: -gtk-icontheme('pan-down-symbolic');
		}
		&:hover {
			@include clickable(hover, $alpha3, $accent2);
		}
		&:disabled {
			@include clickable(disabled);
		}
		&:backdrop {
			@include clickable(backdrop);
			&:hover {
				@include clickable(backdrop-hover, $alpha3, $accent2);
			}
		}
	}
}
menuitem {
	accelerator {
		color: gtkalpha(currentColor,0.55);
	}
	check, radio {
		&:dir(ltr) {
			margin-right: 7px;
		}
		&:dir(rtl) {
			margin-left: 7px;
		}
	}
}
